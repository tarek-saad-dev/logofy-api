{
  "info": {
    "name": "Mobile Legacy Format API - Comprehensive",
    "description": "Complete Postman collection for Mobile Legacy Format API endpoints including POST, GET, and comprehensive testing",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "logoId",
      "value": "bdd8c50a-383c-44c4-a212-ede3c06e6102",
      "type": "string"
    },
    {
      "key": "testLogoId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "API Health Check",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/../health",
              "host": ["{{baseUrl}}"],
              "path": ["..", "health"]
            },
            "description": "Check if the API server is running and healthy."
          },
          "response": [
            {
              "name": "Healthy Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/../health",
                  "host": ["{{baseUrl}}"],
                  "path": ["..", "health"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": \"healthy\",\n  \"uptime\": 123.456,\n  \"timestamp\": \"2025-10-21T23:52:21.166Z\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Mobile Legacy Format - GET Endpoints",
      "item": [
        {
          "name": "Get All Logos (Legacy Format) - English",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "en"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/mobile/legacy?page=1&limit=10&lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile", "legacy"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number for pagination"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of logos per page (max 100)"
                },
                {
                  "key": "lang",
                  "value": "en",
                  "description": "Language preference (en/ar)"
                }
              ]
            },
            "description": "Retrieves all logos that support legacy format in mobile-compatible JSON structure with pagination support."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/logo/mobile/legacy?page=1&limit=10&lang=en",
                  "host": ["{{baseUrl}}"],
                  "path": ["logo", "mobile", "legacy"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "lang",
                      "value": "en"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Logos fetched in legacy format successfully\",\n  \"language\": \"en\",\n  \"direction\": \"ltr\",\n  \"data\": {\n    \"data\": [\n      {\n        \"logoId\": \"bdd8c50a-383c-44c4-a212-ede3c06e6102\",\n        \"templateId\": null,\n        \"userId\": \"current_user\",\n        \"name\": \"working_logo_test\",\n        \"description\": \"Logo created on 2025-10-21T06:16:02.171Z\",\n        \"canvas\": {\n          \"aspectRatio\": 1.0,\n          \"background\": {\n            \"type\": \"solid\",\n            \"solidColor\": \"#ffffff\",\n            \"gradient\": null,\n            \"image\": null\n          }\n        },\n        \"layers\": [],\n        \"colorsUsed\": [],\n        \"alignments\": {\n          \"verticalAlign\": \"center\",\n          \"horizontalAlign\": \"center\"\n        },\n        \"responsive\": {\n          \"version\": \"3.0\",\n          \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n          \"scalingMethod\": \"scaleFactor\",\n          \"positionMethod\": \"relative\",\n          \"fullyResponsive\": true\n        },\n        \"metadata\": {\n          \"createdAt\": \"2025-10-21T06:16:02.171Z\",\n          \"updatedAt\": \"2025-10-21T06:16:02.171Z\",\n          \"tags\": [\"logo\", \"design\", \"responsive\"],\n          \"version\": 3,\n          \"responsive\": true,\n          \"legacyFormat\": true,\n          \"legacyVersion\": \"1.0\",\n          \"mobileOptimized\": true\n        },\n        \"export\": {\n          \"format\": \"png\",\n          \"transparentBackground\": true,\n          \"quality\": 100,\n          \"responsive\": {\n            \"scalable\": true,\n            \"maintainAspectRatio\": true\n          }\n        },\n        \"language\": \"en\",\n        \"direction\": \"ltr\"\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 10,\n      \"total\": 81,\n      \"pages\": 9\n    }\n  }\n}"
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('data');",
                  "});",
                  "",
                  "pm.test(\"Response has pagination\", function () {",
                  "    pm.expect(pm.response.json().data).to.have.property('pagination');",
                  "});",
                  "",
                  "pm.test(\"Language is English\", function () {",
                  "    pm.expect(pm.response.json().language).to.eql('en');",
                  "});",
                  "",
                  "pm.test(\"Direction is LTR\", function () {",
                  "    pm.expect(pm.response.json().direction).to.eql('ltr');",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 3000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(3000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get All Logos (Legacy Format) - Arabic",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "ar"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/mobile/legacy?page=1&limit=10&lang=ar",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile", "legacy"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "lang",
                  "value": "ar"
                }
              ]
            },
            "description": "Retrieves all logos in Arabic language with RTL direction support."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Language is Arabic\", function () {",
                  "    pm.expect(pm.response.json().language).to.eql('ar');",
                  "});",
                  "",
                  "pm.test(\"Direction is RTL\", function () {",
                  "    pm.expect(pm.response.json().direction).to.eql('rtl');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Single Logo (Legacy Format) - English",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "en"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "{{logoId}}", "mobile", "legacy"],
              "query": [
                {
                  "key": "lang",
                  "value": "en",
                  "description": "Language preference"
                }
              ]
            },
            "description": "Retrieves a specific logo by ID in mobile legacy format with comprehensive layer data."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=en",
                  "host": ["{{baseUrl}}"],
                  "path": ["logo", "{{logoId}}", "mobile", "legacy"],
                  "query": [
                    {
                      "key": "lang",
                      "value": "en"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Logo fetched in legacy format successfully\",\n  \"language\": \"en\",\n  \"direction\": \"ltr\",\n  \"data\": {\n    \"logoId\": \"bdd8c50a-383c-44c4-a212-ede3c06e6102\",\n    \"templateId\": null,\n    \"userId\": \"current_user\",\n    \"name\": \"working_logo_test\",\n    \"description\": \"Logo created on 2025-10-21T06:16:02.171Z\",\n    \"canvas\": {\n      \"aspectRatio\": 1.0,\n      \"background\": {\n        \"type\": \"solid\",\n        \"solidColor\": \"#ffffff\",\n        \"gradient\": null,\n        \"image\": null\n      }\n    },\n    \"layers\": [\n      {\n        \"layerId\": \"layer-uuid-here\",\n        \"type\": \"text\",\n        \"visible\": true,\n        \"order\": 0,\n        \"position\": {\n          \"x\": 0.5,\n          \"y\": 0.5\n        },\n        \"scaleFactor\": 1.0,\n        \"rotation\": 0,\n        \"opacity\": 1.0,\n        \"flip\": {\n          \"horizontal\": false,\n          \"vertical\": false\n        },\n        \"text\": {\n          \"value\": \"Sample Text\",\n          \"font\": \"Arial\",\n          \"fontSize\": 48,\n          \"fontColor\": \"#000000\",\n          \"fontWeight\": \"normal\",\n          \"fontStyle\": \"normal\",\n          \"alignment\": \"center\",\n          \"baseline\": \"alphabetic\",\n          \"lineHeight\": 1.0,\n          \"letterSpacing\": 0,\n          \"fillAlpha\": 1.0,\n          \"strokeHex\": null,\n          \"strokeAlpha\": null,\n          \"strokeWidth\": null,\n          \"strokeAlign\": null,\n          \"gradient\": null,\n          \"underline\": false,\n          \"underlineDirection\": \"horizontal\",\n          \"textCase\": \"normal\",\n          \"textDecoration\": \"none\",\n          \"textTransform\": \"none\",\n          \"fontVariant\": \"normal\"\n        }\n      }\n    ],\n    \"colorsUsed\": [\n      {\n        \"role\": \"text\",\n        \"color\": \"#000000\"\n      }\n    ],\n    \"alignments\": {\n      \"verticalAlign\": \"center\",\n      \"horizontalAlign\": \"center\"\n    },\n    \"responsive\": {\n      \"version\": \"3.0\",\n      \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n      \"scalingMethod\": \"scaleFactor\",\n      \"positionMethod\": \"relative\",\n      \"fullyResponsive\": true\n    },\n    \"metadata\": {\n      \"createdAt\": \"2025-10-21T06:16:02.171Z\",\n      \"updatedAt\": \"2025-10-21T06:16:02.171Z\",\n      \"tags\": [\"logo\", \"design\", \"responsive\"],\n      \"version\": 3,\n      \"responsive\": true,\n      \"legacyFormat\": true,\n      \"legacyVersion\": \"1.0\",\n      \"mobileOptimized\": true\n    },\n    \"export\": {\n      \"format\": \"png\",\n      \"transparentBackground\": true,\n      \"quality\": 100,\n      \"responsive\": {\n        \"scalable\": true,\n        \"maintainAspectRatio\": true\n      }\n    },\n    \"language\": \"en\",\n    \"direction\": \"ltr\"\n  }\n}"
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('data');",
                  "});",
                  "",
                  "pm.test(\"Data has required legacy format fields\", function () {",
                  "    const data = pm.response.json().data;",
                  "    pm.expect(data).to.have.property('logoId');",
                  "    pm.expect(data).to.have.property('canvas');",
                  "    pm.expect(data).to.have.property('layers');",
                  "    pm.expect(data).to.have.property('colorsUsed');",
                  "    pm.expect(data).to.have.property('alignments');",
                  "    pm.expect(data).to.have.property('responsive');",
                  "    pm.expect(data).to.have.property('metadata');",
                  "    pm.expect(data).to.have.property('export');",
                  "});",
                  "",
                  "pm.test(\"Metadata has legacy format flags\", function () {",
                  "    const metadata = pm.response.json().data.metadata;",
                  "    pm.expect(metadata).to.have.property('legacyFormat');",
                  "    pm.expect(metadata.legacyFormat).to.be.true;",
                  "    pm.expect(metadata).to.have.property('legacyVersion');",
                  "    pm.expect(metadata).to.have.property('mobileOptimized');",
                  "    pm.expect(metadata.mobileOptimized).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Single Logo (Legacy Format) - Arabic",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "ar"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=ar",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "{{logoId}}", "mobile", "legacy"],
              "query": [
                {
                  "key": "lang",
                  "value": "ar"
                }
              ]
            },
            "description": "Retrieves a specific logo in Arabic with RTL direction support."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Language is Arabic\", function () {",
                  "    pm.expect(pm.response.json().language).to.eql('ar');",
                  "});",
                  "",
                  "pm.test(\"Direction is RTL\", function () {",
                  "    pm.expect(pm.response.json().direction).to.eql('rtl');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Mobile Legacy Format - POST Endpoints",
      "item": [
        {
          "name": "Create Logo (Mobile Format) - Basic",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Logo - Basic\",\n  \"description\": \"A basic test logo created via mobile API\",\n  \"canvas\": {\n    \"aspectRatio\": 1.0,\n    \"background\": {\n      \"type\": \"solid\",\n      \"solidColor\": \"#ffffff\",\n      \"gradient\": null,\n      \"image\": null\n    }\n  },\n  \"layers\": [],\n  \"colorsUsed\": [],\n  \"alignments\": {\n    \"verticalAlign\": \"center\",\n    \"horizontalAlign\": \"center\"\n  },\n  \"responsive\": {\n    \"version\": \"3.0\",\n    \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n    \"scalingMethod\": \"scaleFactor\",\n    \"positionMethod\": \"relative\",\n    \"fullyResponsive\": true\n  },\n  \"metadata\": {\n    \"tags\": [\"test\", \"basic\", \"mobile\"],\n    \"version\": 3,\n    \"responsive\": true\n  },\n  \"export\": {\n    \"format\": \"png\",\n    \"transparentBackground\": true,\n    \"quality\": 100,\n    \"responsive\": {\n      \"scalable\": true,\n      \"maintainAspectRatio\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/logo/mobile",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile"]
            },
            "description": "Creates a basic logo using the mobile API format."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('data');",
                  "});",
                  "",
                  "pm.test(\"Data has required fields\", function () {",
                  "    const data = pm.response.json().data;",
                  "    pm.expect(data).to.have.property('logoId');",
                  "    pm.expect(data).to.have.property('canvas');",
                  "    pm.expect(data).to.have.property('layers');",
                  "    pm.expect(data).to.have.property('colorsUsed');",
                  "    pm.expect(data).to.have.property('alignments');",
                  "    pm.expect(data).to.have.property('responsive');",
                  "    pm.expect(data).to.have.property('metadata');",
                  "    pm.expect(data).to.have.property('export');",
                  "});",
                  "",
                  "pm.test(\"Logo ID is valid UUID\", function () {",
                  "    const logoId = pm.response.json().data.logoId;",
                  "    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;",
                  "    pm.expect(logoId).to.match(uuidRegex);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 5000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(5000);",
                  "});",
                  "",
                  "// Store the created logo ID for later use",
                  "if (pm.response.json().success) {",
                  "    pm.environment.set('testLogoId', pm.response.json().data.logoId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Logo (Mobile Format) - With Text Layer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Logo - With Text\",\n  \"description\": \"A test logo with text layer created via mobile API\",\n  \"canvas\": {\n    \"aspectRatio\": 1.0,\n    \"background\": {\n      \"type\": \"solid\",\n      \"solidColor\": \"#f0f0f0\",\n      \"gradient\": null,\n      \"image\": null\n    }\n  },\n  \"layers\": [\n    {\n      \"layerId\": \"text-layer-1\",\n      \"type\": \"text\",\n      \"visible\": true,\n      \"order\": 0,\n      \"position\": {\n        \"x\": 0.5,\n        \"y\": 0.5\n      },\n      \"scaleFactor\": 1.0,\n      \"rotation\": 0,\n      \"opacity\": 1.0,\n      \"flip\": {\n        \"horizontal\": false,\n        \"vertical\": false\n      },\n      \"text\": {\n        \"value\": \"Hello World\",\n        \"font\": \"Arial\",\n        \"fontSize\": 48,\n        \"fontColor\": \"#333333\",\n        \"fontWeight\": \"bold\",\n        \"fontStyle\": \"normal\",\n        \"alignment\": \"center\",\n        \"baseline\": \"alphabetic\",\n        \"lineHeight\": 1.2,\n        \"letterSpacing\": 0,\n        \"fillAlpha\": 1.0,\n        \"strokeHex\": null,\n        \"strokeAlpha\": null,\n        \"strokeWidth\": null,\n        \"strokeAlign\": null,\n        \"gradient\": null,\n        \"underline\": false,\n        \"underlineDirection\": \"horizontal\",\n        \"textCase\": \"normal\",\n        \"textDecoration\": \"none\",\n        \"textTransform\": \"none\",\n        \"fontVariant\": \"normal\"\n      }\n    }\n  ],\n  \"colorsUsed\": [\n    {\n      \"role\": \"text\",\n      \"color\": \"#333333\"\n    }\n  ],\n  \"alignments\": {\n    \"verticalAlign\": \"center\",\n    \"horizontalAlign\": \"center\"\n  },\n  \"responsive\": {\n    \"version\": \"3.0\",\n    \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n    \"scalingMethod\": \"scaleFactor\",\n    \"positionMethod\": \"relative\",\n    \"fullyResponsive\": true\n  },\n  \"metadata\": {\n    \"tags\": [\"test\", \"text\", \"mobile\"],\n    \"version\": 3,\n    \"responsive\": true\n  },\n  \"export\": {\n    \"format\": \"png\",\n    \"transparentBackground\": true,\n    \"quality\": 100,\n    \"responsive\": {\n      \"scalable\": true,\n      \"maintainAspectRatio\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/logo/mobile",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile"]
            },
            "description": "Creates a logo with a text layer using the mobile API format."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Logo has text layer\", function () {",
                  "    const layers = pm.response.json().data.layers;",
                  "    pm.expect(layers).to.be.an('array');",
                  "    pm.expect(layers.length).to.be.greaterThan(0);",
                  "    const textLayer = layers.find(layer => layer.type === 'text');",
                  "    pm.expect(textLayer).to.not.be.undefined;",
                  "});",
                  "",
                  "pm.test(\"Text layer has required properties\", function () {",
                  "    const layers = pm.response.json().data.layers;",
                  "    const textLayer = layers.find(layer => layer.type === 'text');",
                  "    if (textLayer) {",
                  "        pm.expect(textLayer).to.have.property('text');",
                  "        pm.expect(textLayer.text).to.have.property('value');",
                  "        pm.expect(textLayer.text).to.have.property('font');",
                  "        pm.expect(textLayer.text).to.have.property('fontSize');",
                  "        pm.expect(textLayer.text).to.have.property('fontColor');",
                  "    }",
                  "});",
                  "",
                  "// Store the created logo ID for later use",
                  "if (pm.response.json().success) {",
                  "    pm.environment.set('testLogoId', pm.response.json().data.logoId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Logo (Mobile Format) - With Icon Layer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Logo - With Icon\",\n  \"description\": \"A test logo with icon layer created via mobile API\",\n  \"canvas\": {\n    \"aspectRatio\": 1.0,\n    \"background\": {\n      \"type\": \"solid\",\n      \"solidColor\": \"#ffffff\",\n      \"gradient\": null,\n      \"image\": null\n    }\n  },\n  \"layers\": [\n    {\n      \"layerId\": \"icon-layer-1\",\n      \"type\": \"icon\",\n      \"visible\": true,\n      \"order\": 0,\n      \"position\": {\n        \"x\": 0.5,\n        \"y\": 0.5\n      },\n      \"scaleFactor\": 0.5,\n      \"rotation\": 0,\n      \"opacity\": 1.0,\n      \"flip\": {\n        \"horizontal\": false,\n        \"vertical\": false\n      },\n      \"icon\": {\n        \"src\": \"icon_12345\",\n        \"color\": \"#ff6b6b\"\n      }\n    }\n  ],\n  \"colorsUsed\": [\n    {\n      \"role\": \"icon\",\n      \"color\": \"#ff6b6b\"\n    }\n  ],\n  \"alignments\": {\n    \"verticalAlign\": \"center\",\n    \"horizontalAlign\": \"center\"\n  },\n  \"responsive\": {\n    \"version\": \"3.0\",\n    \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n    \"scalingMethod\": \"scaleFactor\",\n    \"positionMethod\": \"relative\",\n    \"fullyResponsive\": true\n  },\n  \"metadata\": {\n    \"tags\": [\"test\", \"icon\", \"mobile\"],\n    \"version\": 3,\n    \"responsive\": true\n  },\n  \"export\": {\n    \"format\": \"png\",\n    \"transparentBackground\": true,\n    \"quality\": 100,\n    \"responsive\": {\n      \"scalable\": true,\n      \"maintainAspectRatio\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/logo/mobile",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile"]
            },
            "description": "Creates a logo with an icon layer using the mobile API format."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Logo has icon layer\", function () {",
                  "    const layers = pm.response.json().data.layers;",
                  "    pm.expect(layers).to.be.an('array');",
                  "    pm.expect(layers.length).to.be.greaterThan(0);",
                  "    const iconLayer = layers.find(layer => layer.type === 'icon');",
                  "    pm.expect(iconLayer).to.not.be.undefined;",
                  "});",
                  "",
                  "pm.test(\"Icon layer has required properties\", function () {",
                  "    const layers = pm.response.json().data.layers;",
                  "    const iconLayer = layers.find(layer => layer.type === 'icon');",
                  "    if (iconLayer) {",
                  "        pm.expect(iconLayer).to.have.property('icon');",
                  "        pm.expect(iconLayer.icon).to.have.property('src');",
                  "        pm.expect(iconLayer.icon).to.have.property('color');",
                  "    }",
                  "});",
                  "",
                  "// Store the created logo ID for later use",
                  "if (pm.response.json().success) {",
                  "    pm.environment.set('testLogoId', pm.response.json().data.logoId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Logo (Mobile Format) - With Gradient Background",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Logo - With Gradient\",\n  \"description\": \"A test logo with gradient background created via mobile API\",\n  \"canvas\": {\n    \"aspectRatio\": 1.0,\n    \"background\": {\n      \"type\": \"gradient\",\n      \"solidColor\": null,\n      \"gradient\": {\n        \"angle\": 45,\n        \"stops\": [\n          {\n            \"color\": \"#ff6b6b\",\n            \"position\": 0.0\n          },\n          {\n            \"color\": \"#4ecdc4\",\n            \"position\": 1.0\n          }\n        ]\n      },\n      \"image\": null\n    }\n  },\n  \"layers\": [],\n  \"colorsUsed\": [\n    {\n      \"role\": \"background\",\n      \"color\": \"#ff6b6b\"\n    },\n    {\n      \"role\": \"background\",\n      \"color\": \"#4ecdc4\"\n    }\n  ],\n  \"alignments\": {\n    \"verticalAlign\": \"center\",\n    \"horizontalAlign\": \"center\"\n  },\n  \"responsive\": {\n    \"version\": \"3.0\",\n    \"description\": \"Fully responsive logo data - no absolute sizes stored\",\n    \"scalingMethod\": \"scaleFactor\",\n    \"positionMethod\": \"relative\",\n    \"fullyResponsive\": true\n  },\n  \"metadata\": {\n    \"tags\": [\"test\", \"gradient\", \"mobile\"],\n    \"version\": 3,\n    \"responsive\": true\n  },\n  \"export\": {\n    \"format\": \"png\",\n    \"transparentBackground\": false,\n    \"quality\": 100,\n    \"responsive\": {\n      \"scalable\": true,\n      \"maintainAspectRatio\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/logo/mobile",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile"]
            },
            "description": "Creates a logo with gradient background using the mobile API format."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Canvas has gradient background\", function () {",
                  "    const canvas = pm.response.json().data.canvas;",
                  "    pm.expect(canvas.background.type).to.eql('gradient');",
                  "    pm.expect(canvas.background.gradient).to.not.be.null;",
                  "});",
                  "",
                  "pm.test(\"Gradient has required structure\", function () {",
                  "    const gradient = pm.response.json().data.canvas.background.gradient;",
                  "    pm.expect(gradient).to.have.property('angle');",
                  "    pm.expect(gradient).to.have.property('stops');",
                  "    pm.expect(gradient.stops).to.be.an('array');",
                  "    pm.expect(gradient.stops.length).to.be.greaterThan(0);",
                  "});",
                  "",
                  "// Store the created logo ID for later use",
                  "if (pm.response.json().success) {",
                  "    pm.environment.set('testLogoId', pm.response.json().data.logoId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Mobile Legacy Format - Error Handling",
      "item": [
        {
          "name": "Invalid Logo ID Format",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/invalid-id/mobile/legacy",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "invalid-id", "mobile", "legacy"]
            },
            "description": "Tests error handling for invalid logo ID format."
          },
          "response": [
            {
              "name": "Bad Request Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/logo/invalid-id/mobile/legacy",
                  "host": ["{{baseUrl}}"],
                  "path": ["logo", "invalid-id", "mobile", "legacy"]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": false,\n  \"message\": \"Invalid logo ID format\",\n  \"language\": \"en\",\n  \"direction\": \"ltr\"\n}"
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.expect(pm.response.code).to.eql(400);",
                  "});",
                  "",
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.false;",
                  "});",
                  "",
                  "pm.test(\"Error message is correct\", function () {",
                  "    pm.expect(pm.response.json().message).to.eql('Invalid logo ID format');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Logo Not Found",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/00000000-0000-0000-0000-000000000000/mobile/legacy",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "00000000-0000-0000-0000-000000000000", "mobile", "legacy"]
            },
            "description": "Tests error handling for non-existent logo ID."
          },
          "response": [
            {
              "name": "Not Found Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/logo/00000000-0000-0000-0000-000000000000/mobile/legacy",
                  "host": ["{{baseUrl}}"],
                  "path": ["logo", "00000000-0000-0000-0000-000000000000", "mobile", "legacy"]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": false,\n  \"message\": \"Logo not found\",\n  \"language\": \"en\",\n  \"direction\": \"ltr\"\n}"
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.expect(pm.response.code).to.eql(404);",
                  "});",
                  "",
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.false;",
                  "});",
                  "",
                  "pm.test(\"Error message is correct\", function () {",
                  "    pm.expect(pm.response.json().message).to.eql('Logo not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Logo - Missing Required Fields",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Logo without name field\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/logo/mobile",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile"]
            },
            "description": "Tests error handling for missing required fields when creating a logo."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.expect(pm.response.code).to.eql(400);",
                  "});",
                  "",
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.false;",
                  "});",
                  "",
                  "pm.test(\"Error message mentions required fields\", function () {",
                  "    const message = pm.response.json().message;",
                  "    pm.expect(message).to.include('required');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Mobile Legacy Format - Performance Tests",
      "item": [
        {
          "name": "Large Page Size Test",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/mobile/legacy?page=1&limit=100&lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "mobile", "legacy"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "100",
                  "description": "Maximum allowed page size"
                },
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            },
            "description": "Tests performance with maximum page size (100 logos)."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response time is less than 5000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(5000);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    pm.expect(pm.response.code).to.eql(200);",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Page size is correct\", function () {",
                  "    pm.expect(pm.response.json().data.pagination.limit).to.eql(100);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Response Time Test - Single Logo",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "{{logoId}}", "mobile", "legacy"],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            },
            "description": "Tests response time for single logo retrieval."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    pm.expect(pm.response.code).to.eql(200);",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Mobile Legacy Format - Validation Tests",
      "item": [
        {
          "name": "Validate Legacy Format Structure",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "{{logoId}}", "mobile", "legacy"],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            },
            "description": "Validates that the response follows the legacy format structure with all required fields."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Response has success field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('success');",
                  "    pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data field\", function () {",
                  "    pm.expect(pm.response.json()).to.have.property('data');",
                  "});",
                  "",
                  "pm.test(\"Data has required legacy format fields\", function () {",
                  "    const data = pm.response.json().data;",
                  "    pm.expect(data).to.have.property('logoId');",
                  "    pm.expect(data).to.have.property('canvas');",
                  "    pm.expect(data).to.have.property('layers');",
                  "    pm.expect(data).to.have.property('colorsUsed');",
                  "    pm.expect(data).to.have.property('alignments');",
                  "    pm.expect(data).to.have.property('responsive');",
                  "    pm.expect(data).to.have.property('metadata');",
                  "    pm.expect(data).to.have.property('export');",
                  "});",
                  "",
                  "pm.test(\"Metadata has legacy format flags\", function () {",
                  "    const metadata = pm.response.json().data.metadata;",
                  "    pm.expect(metadata).to.have.property('legacyFormat');",
                  "    pm.expect(metadata.legacyFormat).to.be.true;",
                  "    pm.expect(metadata).to.have.property('legacyVersion');",
                  "    pm.expect(metadata).to.have.property('mobileOptimized');",
                  "    pm.expect(metadata.mobileOptimized).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Canvas has required structure\", function () {",
                  "    const canvas = pm.response.json().data.canvas;",
                  "    pm.expect(canvas).to.have.property('aspectRatio');",
                  "    pm.expect(canvas).to.have.property('background');",
                  "    pm.expect(canvas.background).to.have.property('type');",
                  "});",
                  "",
                  "pm.test(\"Layers have required structure\", function () {",
                  "    const layers = pm.response.json().data.layers;",
                  "    pm.expect(layers).to.be.an('array');",
                  "    if (layers.length > 0) {",
                  "        const layer = layers[0];",
                  "        pm.expect(layer).to.have.property('layerId');",
                  "        pm.expect(layer).to.have.property('type');",
                  "        pm.expect(layer).to.have.property('visible');",
                  "        pm.expect(layer).to.have.property('order');",
                  "        pm.expect(layer).to.have.property('position');",
                  "        pm.expect(layer).to.have.property('scaleFactor');",
                  "        pm.expect(layer).to.have.property('rotation');",
                  "        pm.expect(layer).to.have.property('opacity');",
                  "        pm.expect(layer).to.have.property('flip');",
                  "    }",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Validate Gradient Legacy Format",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logo/{{logoId}}/mobile/legacy?lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["logo", "{{logoId}}", "mobile", "legacy"],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            },
            "description": "Validates that gradients are in legacy format with proper structure."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Gradients are in legacy format\", function () {",
                  "    const data = pm.response.json().data;",
                  "    ",
                  "    // Check canvas background gradient",
                  "    if (data.canvas.background.gradient) {",
                  "        const gradient = data.canvas.background.gradient;",
                  "        pm.expect(gradient).to.have.property('angle');",
                  "        pm.expect(gradient).to.have.property('stops');",
                  "        pm.expect(gradient.stops).to.be.an('array');",
                  "        ",
                  "        gradient.stops.forEach(stop => {",
                  "            pm.expect(stop).to.have.property('color');",
                  "            pm.expect(stop).to.have.property('position');",
                  "        });",
                  "    }",
                  "    ",
                  "    // Check layer gradients",
                  "    data.layers.forEach(layer => {",
                  "        if (layer.text && layer.text.gradient) {",
                  "            const gradient = layer.text.gradient;",
                  "            pm.expect(gradient).to.have.property('angle');",
                  "            pm.expect(gradient).to.have.property('stops');",
                  "        }",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set default values if not already set",
          "if (!pm.environment.get('baseUrl')) {",
          "    pm.environment.set('baseUrl', 'http://localhost:3000/api');",
          "}",
          "",
          "if (!pm.environment.get('logoId')) {",
          "    pm.environment.set('logoId', 'bdd8c50a-383c-44c4-a212-ede3c06e6102');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test for all requests",
          "pm.test(\"Response status code is successful\", function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 202]);",
          "});",
          "",
          "pm.test(\"Response has proper content type\", function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "pm.test(\"Response time is reasonable\", function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(10000);",
          "});"
        ]
      }
    }
  ]
}
